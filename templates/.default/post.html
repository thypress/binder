<!-- templates/post.hbs -->
<!-- SPDX-License-Identifier: MPL-2.0

This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at https://mozilla.org/MPL/2.0/.
-->
{{#> _layout
  pageTitle=title
  pageDescription=description
  isArticle=true
  hasPostsList=false
  showFooterLinks=false
}}
  <div class="posts-info">
    <time>{{createdAt}}</time>{{#if readingTime}} · {{readingTime}} min read{{/if}}{{#if wordCount}} · {{wordCount}} words{{/if}}
    {{#unless (eq createdAt updatedAt)}}
     · Updated: <time>{{updatedAt}}</time>
    {{/unless}}
    {{#if tags}}
    <span class="tags">
      {{#each tags}}<a href="/tag/{{this}}/">{{this}}</a>{{/each}}
    </span>
    {{/if}}
    {{#if categories}}
    <span class="categories">
      {{#each categories}}<a href="/category/{{this}}/">{{this}}</a>{{/each}}
    </span>
    {{/if}}
    {{#if series}}
    <span class="series">
      Series: <a href="/series/{{series}}/">{{series}}</a>
    </span>
    {{/if}}
  </div>

  <article>
    {{{content}}}
  </article>

  {{#if relatedPosts}}{{#if relatedPosts.length}}
  <aside>
    <h2>Related Posts</h2>
    <ul>
      {{#each relatedPosts}}
      <li>
        <h3><a href="{{url}}">{{title}}</a></h3>
        <time>{{date}}</time>
        {{#if description}}
        <p>{{description}}</p>
        {{/if}}
      </li>
      {{/each}}
    </ul>
  </aside>
  {{/if}}{{/if}}

  {{#if prevPost}}{{#if nextPost}}
  <nav class="post-nav">
    {{#if prevPost}}
      <div>
        <a href="{{prevPost.url}}">← {{prevPost.title}}</a>
      </div>
    {{/if}}
    {{#if nextPost}}
      <div>
        <a href="{{nextPost.url}}">{{nextPost.title}} →</a>
      </div>
    {{/if}}
  </nav>
  {{/if}}{{/if}}

{{/_layout}}
